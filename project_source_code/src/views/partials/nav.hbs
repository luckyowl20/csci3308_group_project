<header>
  <nav class="navbar navbar-expand-lg px-4">
    <div class="container-fluid justify-content-end">
      <ul class="navbar-nav d-flex flex-row gap-4">
        <!-- Always visible links -->
        <li class="nav-item">
          <a class="nav-link fw-semibold" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link fw-semibold" href="/index/explore">Explore</a>
        </li>

        {{!-- Conditional links based on user authentication --}}
        {{#if user}}
        <li class="nav-item">
          <a class="nav-link fw-semibold" href="/chat">Chat</a>
        </li>
        <li class="nav-item">
          <a class="nav-link fw-semibold d-flex align-items-center" href="/profile/">
            <span class="me-2">Profile</span>
            <div style="width: 28px; height: 28px; overflow: hidden; border: 2px solid black; border-radius: 50%;">
              {{#if user.profile_picture_url}}
              <img src="{{user.profile_picture_url}}" alt="Profile Picture"
                style="width: 100%; height: 100%; object-fit: cover;">
              {{else}}
              <img src="https://via.placeholder.com/28?text=U" alt="Default"
                style="width: 100%; height: 100%; object-fit: cover;">
              {{/if}}
            </div>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link fw-semibold" href="/auth/logout">Logout</a>
        </li>
        {{else}}
        <li class="nav-item">
          <a class="nav-link fw-semibold" href="/auth/login">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link fw-semibold" href="/auth/register">Register</a>
        </li>
        {{/if}}
      </ul>
    </div>
  </nav>
</header>