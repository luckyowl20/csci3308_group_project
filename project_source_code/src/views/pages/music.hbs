<link rel="stylesheet" href="/resources/css/swipe.css">

<div class="swipe-container">
  <div class="track-card">
    <h2>Random Music Explorer</h2>

    <!-- Search form -->
    <form method="GET" action="/explore/music" class="mb-4">
      <input 
        type="text" 
        name="artist" 
        placeholder="Search for an artist..." 
        class="form-control mb-2" 
        value="{{artist}}"
      />
      <button type="submit" class="btn btn-primary">Search</button>
    </form>

    <iframe 
      style="border-radius:12px" 
      src="https://open.spotify.com/embed/track/{{trackId}}"
      width="100%" 
      height="352" 
      frameBorder="0" 
      allowfullscreen="" 
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
      loading="lazy">
    </iframe>

    <!-- Hidden field to store the current track ID -->
    <input type="hidden" id="current-track-id" value="{{trackId}}">
  </div>

  <div class="swipe-buttons">
    <button id="left-swipe" class="swipe-button no-button">Dislike</button>
    <button id="right-swipe" class="swipe-button yes-button">Like</button>
  </div>
</div>

<!-- Include the external JavaScript file -->
<script src="/resources/js/musicScript.js"></script>