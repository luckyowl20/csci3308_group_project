<!-- views/pages/friends.hbs -->
{{!-- Style sheets and Bootstrap Carousel --}}
<link rel="stylesheet" href="/resources/css/swipe.css">
{{!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> --}}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

{{!-- Scripts --}}
{{#section "scripts"}}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/resources/js/friend_swipe_script.js"></script>
{{/section}}

<body>
  <div class="fullscreen-bg"></div>

  {{#if noUsersLeft}}
    <div class="no-users text-center mt-5">
      <h2>No more users to connect with!</h2>
      <p>Check back later for new friends.</p>
    </div>
  {{else}}

    <!-- Main Friend Swiping Area -->
    <div class="swipe-container friends">

      <!-- Centered Friend Card -->
      <div class="swipe-card-wrapper">
        {{> swipe_users user=swipeTarget }}
      </div>

      <!-- Friend Swipe Buttons -->
      <div class="swipe-buttons">
        <button id="left-swipe" class="swipe-button no-button">
          <i class="bi bi-x-lg" style="font-size: 2rem;"></i>
        </button>
        <button id="right-swipe" class="swipe-button yes-button">
          <i class="bi bi-person-plus-fill" style="font-size: 2rem;"></i>
        </button>
      </div>
    </div>

    <!-- Friend Match Modal -->
    <div id="friend-modal" class="modal">
      <div class="modal-content text-center">
        <h2>Friend Added!</h2>
        <p>You and {{swipeTarget.display_name}} are now friends.</p>
        <button id="close-friend-modal">Continue</button>
      </div>
    </div>
  {{/if}}

</body>
